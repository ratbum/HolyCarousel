(function(){var a;$.fn.tojqa=function(){var a,b;return a=new Array(this.length),b=0,this.each(function(){return a[b++]=$(this)}),a},a={_HOLY_RAIL_HTML:'<div class="holy-rail" style="margin-left: 0; width:9999%; margin-left: 0;"></div>',init:function(b){return this.each(function(){var c,d,e,f;return d=$(this),this.className+=" holycarousel",e=d.data("holycarousel"),c=d.children(),c.wrapAll(a._HOLY_RAIL_HTML),f=c.tojqa(),c.width(d.width()),e||d.data("holycarousel",{opts:$.extend({},{altSlides:null,responsive:!0,alterHeight:!1,pagerItemText:null,altSlideWrapper:'<div class="alt-item"></div>'},b),slides:f,currentIndex:0,pagerItemSets:[],altCarousels:[]}),e=d.data("holycarousel"),b=b||e.opts,b.responsive&&($(window).resize(function(){return a.respond.apply(d,arguments)}),b.alterHeight)?d.height(f[0].outerHeight(!0)):void 0}),this},respond:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(c=this.data("holycarousel"),h=c.slides,b=c.currentIndex,f=h[0].outerWidth(!0)-h[0].width(),d=this.width(),i=0,l=h.length;l>i;i++)g=h[i],g[0].style.width=d+"px";for(e=-Math.abs(h[c.currentIndex].position().left),$(".holy-rail",this).css("margin-left",""+e+"px"),c.opts.alterHeight&&this.height(h[b].outerHeight(!0)),o=c.altCarousels,j=0,m=o.length;m>j;j++){for(a=o[j],e=-Math.abs(a.slides[b].position().left),d=a.container.width(),p=a.slides,k=0,n=p.length;n>k;k++)g=p[k],g[0].style.width=d+"px";a.rail.css("margin-left",""+e+"px")}return this},slideTo:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(n=this,e=this.data("holycarousel"),o=e.slides,null!=e&&null!=(v=e.opts)&&"function"==typeof v.beforeSlide&&v.beforeSlide(n,a),d=e.currentIndex,i=-Math.abs(o[a].position().left),e.opts.alterHeight){for(f=Math.max(d,a),h=Math.min(d,a),j=0,g=p=h;f>=p;g=p+=1)c=o[g].outerHeight(!0),c>j&&(j=c);this.height(j)}for($(".holy-rail",this).animate({marginLeft:i},function(){var b;return null!=e&&null!=(b=e.opts)&&"function"==typeof b.afterSlide&&b.afterSlide(n,e.currentIndex),e.opts.alterHeight?n.height(o[a].outerHeight(!0)):void 0}),w=e.altCarousels,q=0,t=w.length;t>q;q++)b=w[q],i=-Math.abs(b.slides[a].position().left),b.rail.animate({marginLeft:i});if(null!=e.pagerItemSets)for(k=e.pagerItemSets[0].length,x=e.pagerItemSets,r=0,u=x.length;u>r;r++)for(m=x[r],g=s=0,y=k-1;y>=s;g=s+=1)l=m[g],g===a?l.addClass("active"):l.removeClass("active");return e.currentIndex=a,this},next:function(){var b;return b=this.data("holycarousel"),a.slideTo.apply(this,[(b.currentIndex+1)%b.slides.length]),this},prev:function(){var b,c,d,e;return c=this.data("holycarousel"),b=c.currentIndex,0===b?(d=c.slides.length,e=d-1):(b=c.currentIndex,e=b-1),a.slideTo.apply(this,[e]),this},generate:function(b){var c;switch(b){case"pager":c=a._generatePager.apply(this,Array.prototype.slice.call(arguments,1));break;case"next-button":c=a._generateNextButton.apply(this,Array.prototype.slice.call(arguments,1));break;case"prev-button":c=a._generatePrevButton.apply(this,Array.prototype.slice.call(arguments,1));break;case"carousel":c=a._generateAltCarousel.apply(this,Array.prototype.slice.call(arguments,1))}return c},_generatePager:function(){var b,c,d,e,f,g,h,i,j,k,l;for(j=this,g=$('<span class="holycarousel pager"></span>'),c=this.data("holycarousel"),f=c.opts,b=c.currentIndex,e=c.slides.length,i=[],d=k=0,l=e-1;l>=k;d=k+=1)i.push(h=$('<span class="holycarousel pager-item"></span>')),d===b&&h.addClass("active"),null===f.pagerItemText?h.html(""+(d+1)):h.html(f.pagerItemText),h.click({i:d},function(b){return a.slideTo.apply(j,[b.data.i])}),g.append(h);return c.pagerItemSets.push(i),this.data("holycarousel",c),g},_generateAltCarousel:function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(n=this,c=$('<div class="holycarousel"></div>'),d=$(a._HOLY_RAIL_HTML),g=this.data("holycarousel"),m=$.extend({},g.opts,b),f=g.currentIndex,j=b.altSlides,l=j.length,k=[],o=0,p=j.length;p>o;o++)i=j[o],h=$(m.altSlideWrapper).html(i),d.append(h),k.push(h);return c.append(d),g.altCarousels.push(e={slides:k,container:c,rail:d}),this.data("holycarousel",g),c},_generateNextButton:function(){var b,c;return c=this,b=$('<span class="holycarousel next"></span>'),b.click(function(){return a.next.apply(c,[])})},_generatePrevButton:function(){var b,c;return c=this,b=$('<span class="holycarousel prev"></span>'),b.click(function(){return a.prev.apply(c,[])})}},jQuery.fn.holycarousel=jQuery.fn.holyCarousel=$.fn.holycarousel=$.fn.holyCarousel=function(b){return a[b]?a[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?($.error("Method "+b+" does not exist on jQuery.holyCarousel"),this):a.init.apply(this,arguments)}}).call(this);